@model LC_Reports_V1.Models.AverageMasterDetails

@{
    ViewBag.Title = "WeeklyAverageCharts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GKX0NP1SYR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-GKX0NP1SYR');
    </script>
    <meta name="viewport" content="width=device-width" />
    <script src="~/Scripts/CPC/LoadCharts.js"></script>
    <title>Index</title>
    @section Scripts{
        <script>
            var AverageIN, AverageDE, AverageCN, AverageUS, AverageVN, AverageJP;
        @*var objdata_location = [];
        var objdata_project = [];
        @foreach (var item in Model.Location)
        {

           <text>

              objdata_location.push({

                  Location: "@item.Loc",
                  Nos: "@item.Nos",
                  Week_Number: "@item.WeekNo",
                  Action: "@item.Action",
			      Average    : "@item.Average"
              });
          </text>
        }*@

        @*debugger;
        var obj = @Html.Raw(Json.Encode(Model));

        location_grid(obj.Location);*@
        //location_grid(objdata_location);


        @*@foreach (var item in Model.Project)
        {

           <text>

              objdata_project.push({

                  Project: "@item.Project",
                  Computer_ID: "@item.ComputerIds",
                  Nos: "@item.Nos",
                  Week_Number: "@item.WeekNo",
			      Average    : "@item.Average"
              });
          </text>
        }*@
        //project_grid(obj.Project);


        $(document).ready(function () {
            localStorage.clear();
            debugger;
            var obj = @Html.Raw(Json.Encode(Model));

            year = '@TempData["year"]';

            RegAverageChart_TSG4(obj.AvgRegionChart_TSG4, year);
            RegAverageChart_PBOX(obj.AvgRegionChart_PBOX, year);
            RegAverageChart_MLC(obj.AvgRegionChart_MLC, year);
            RegAverageChart_ACUROT(obj.AvgRegionChart_ACUROT, year);

            SetTempData(year);

            //AverageIN = obj.LocAverageIN[0].LAverage;
            //Load_RBEIChart(obj.PrgAvgIN, AverageIN);

            //AverageVN = obj.LocAverageVN[0].LAverage;
            //Load_VNChart(obj.PrgAvgVN, AverageVN);

            //AverageCN = obj.LocAverageCN[0].LAverage;
            //Load_CNChart(obj.PrgAvgCN, AverageCN);

            //AverageJP = obj.LocAverageJP[0].LAverage;
            //Load_JPChart(obj.PrgAvgJP, AverageJP);

            //AverageDE = obj.LocAverageDE[0].LAverage;
            //Load_DEChart(obj.PrgAvgDE, AverageDE);

            //AverageUS = obj.LocAverageUS[0].LAverage;
            //Load_USChart(obj.PrgAvgUS, AverageUS);




            debugger;

        });
            function SetTempData(year) {
                debugger;
                $.ajax({
                    type: "POST",
                    url: "../CPC/SetTempData",
                    //data: '{ year : year }',
                    data: JSON.stringify({ year: year }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "text",
                    success: function (data) {
                        //window.location = window.location.href;
                    }
                });
            }

        </script>
    }
</head>
<body>
    @*<div class="long-title"><center><h3><b>RBEI Weekly Average Utilization per Project (in hrs)</b></h3></center></div>*@

    <div id="locationchart_TSG4"></div>
    <div id="locationchart_PBOX"></div>
    <div id="locationchart_MLC"></div>
    <div id="locationchart_ACUROT"></div>


    @*<div id="AvgchartIN_TSG4"></div>
        <div id="AvgchartVN_TSG4"></div>
        <div id="AvgchartCN_TSG4"></div>
        <div id="AvgchartJP_TSG4"></div>
        <div id="AvgchartDE_TSG4"></div>
        <div id="AvgchartUS_TSG4"></div>

        <div id="AvgchartIN_PBOX"></div>
        <div id="AvgchartVN_PBOX"></div>
        <div id="AvgchartCN_PBOX"></div>
        <div id="AvgchartJP_PBOX"></div>
        <div id="AvgchartDE_PBOX"></div>
        <div id="AvgchartUS_PBOX"></div>

        <div id="AvgchartIN_MLC"></div>
        <div id="AvgchartVN_MLC"></div>
        <div id="AvgchartCN_MLC"></div>
        <div id="AvgchartJP_MLC"></div>
        <div id="AvgchartDE_MLC"></div>
        <div id="AvgchartUS_MLC"></div>

        <div id="AvgchartIN_ACUROT"></div>
        <div id="AvgchartVN_ACUROT"></div>
        <div id="AvgchartCN_ACUROT"></div>
        <div id="AvgchartJP_ACUROT"></div>
        <div id="AvgchartDE_ACUROT"></div>
        <div id="AvgchartUS_ACUROT"></div>*@


</body>
</html>
