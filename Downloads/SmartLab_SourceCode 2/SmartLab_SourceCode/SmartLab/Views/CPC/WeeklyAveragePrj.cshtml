@model LC_Reports_V1.Models.AverageMasterDetails

@{
    ViewBag.Title = "WeeklyAverageProject";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GKX0NP1SYR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-GKX0NP1SYR');
    </script>
    <meta name="viewport" content="width=device-width" />
    <script src="~/Scripts/export/exceljs.min.js"></script>
    <script src="~/Scripts/export/FileSaver.min.js"></script>
    <script src="~/Scripts/CPC/LoadDataGrid.js"></script>
    <title>Index</title>
    @section Scripts{
        <script>
        @*var objdata_location = [];
        var objdata_project = [];
        @foreach (var item in Model.Location)
        {

           <text>

              objdata_location.push({

                  Location: "@item.Loc",
                  Nos: "@item.Nos",
                  Week_Number: "@item.WeekNo",
                  Action: "@item.Action",
			      Average    : "@item.Average"
              });
          </text>
        }*@

        @*debugger;
        var obj = @Html.Raw(Json.Encode(Model));

        location_grid(obj.Location);*@
        //location_grid(objdata_location);


        @*@foreach (var item in Model.Project)
        {

           <text>

              objdata_project.push({

                  Project: "@item.Project",
                  Computer_ID: "@item.ComputerIds",
                  Nos: "@item.Nos",
                  Week_Number: "@item.WeekNo",
			      Average    : "@item.Average"
              });
          </text>
        }*@
        //project_grid(obj.Project);

            var year;
            var width;
        $(document).ready(function () {
            localStorage.clear();
            debugger;
            var obj = @Html.Raw(Json.Encode(Model));

            year = '@TempData["year"]';



            if (year == "2022")
                width = 700;
            else
                width = 1500;

            project_gridTSG4(obj.ProjectTSG4, width);
            project_gridPBOX(obj.ProjectPBOX, width);
            project_gridMLC(obj.ProjectMLC, width);
            project_gridACUROT(obj.ProjectACUROT, width);

            SetTempData(year);
        });

            function SetTempData(year) {
                debugger;
                $.ajax({
                    type: "POST",
                    url: "../CPC/SetTempData",
                    //data: '{ year : year }',
                    data: JSON.stringify({ year: year }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "text",
                    success: function (data) {
                        //window.location = window.location.href;
                    }
                });
            }

        </script>
    }
</head>
<body>
    <div>
        
        <div style="margin-left:15%;"><h3><b>TSG4 Weekly Average Project-wise Utilization (in hrs)</b></h3></div>
        <div id="project_dataGridTSG4"></div>
        <div style="margin-left:15%;"><h3><b>PBOX Weekly Average Project-wise Utilization (in hrs)</b></h3></div>
        <div id="project_dataGridPBOX"></div>
        <div style="margin-left:15%;"><h3><b>MLC Weekly Average Project-wise Utilization (in hrs)</b></h3></div>
        <div id="project_dataGridMLC"></div>
        <div style="margin-left:15%;"><h3><b>ACUROT Weekly Average Project-wise Utilization (in hrs)</b></h3></div>
        <div id="project_dataGridACUROT"></div>


    </div>
    @*<table cellpadding="0" cellspacing="0">
            <tr>
                <th>Nos</th>
                <th>Loc</th>
                <th>Average</th>

            </tr>
            @foreach (var loc in Model.Location)
            {
                <tr>
                    <td>@loc.Nos</td>
                    <td>@loc.Loc</td>
                    <td>@loc.Average</td>

                </tr>
            }
        </table>


        <table cellpadding="0" cellspacing="0">
            <tr>
                <th>Nos</th>
                <th>Project</th>
                <th>Average</th>

            </tr>
            @foreach (var prj in Model.Project)
            {
                <tr>
                    <td>@prj.Nos</td>
                    <td>@prj.Project</td>
                    <td>@prj.Average</td>

                </tr>
            }
        </table>*@
</body>
</html>

