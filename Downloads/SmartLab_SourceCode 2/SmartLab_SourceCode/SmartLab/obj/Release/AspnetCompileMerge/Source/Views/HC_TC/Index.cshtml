
@{
    ViewBag.Title = "HC Utilization";
    Layout = "~/Views/Shared/_LayoutPageBudgeting.cshtml";
}


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <!-- Google tag (gtag.js) -->
    <script async=async src="https://www.googletagmanager.com/gtag/js?id=G-GKX0NP1SYR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-GKX0NP1SYR');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HeadCount Options</title>
    <style>
        .columnHeaderCSS {
            /*font-weight: bold;*/
            color: #000000;
            background-color: antiquewhite !important;
        }
    </style>


    <link href="~/Content/LabReportPage.css" rel="stylesheet" />
    <link href="~/Content/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="~/Scripts/export/exceljs.min.js"></script>
    <script src="~/Scripts/export/FileSaver.min.js"></script>
    <script src="~/Scripts/Budgeting/Load_HCDatagrid.js"></script>

    @*<script>
                // Get the modal
            var modal = document.getElementById("myModal");
            debugger;
                // Get the button that opens the modal
                var btn = document.getElementById("myBtn");

                // Get the <span> element that closes the modal
                var span = document.getElementsByClassName("close")[0];

                // When the user clicks the button, open the modal
                //btn.onclick = function () {
                   // modal.style.display = "block";
                //}

                // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                    modal.style.display = "none";
                }

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }

                debugger;
                $.ajax({
                    type: "GET",
                    url: "/OssLabAdmin/ReloadTimeConfigurer/",
                    async: true,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        debugger;
                        $("#nft").dxDateBox({
                            type: "time",
                            showClearButton: true,
                            value: data.data.night_fromtime

                        });

                        $("#ntt").dxDateBox({
                            type: "time",
                            showClearButton: true,
                            value: data.data.night_totime
                        });

                        $("#wft").dxDateBox({
                            type: "time",
                            showClearButton: true,
                            value: data.data.weekend_fromtime
                        });

                        $("#wtt").dxDateBox({
                            type: "time",
                            showClearButton: true,
                            value: data.data.weekend_totime
                        });




                    }, error: function (err) {

                        $.notify('Unable to fetch Previous Timings. Please Set the new Timings.', {
                            globalPosition: "top center",
                            className: "warn"
                        });
                    }

                });







                function SaveChanges() {

                    debugger;
                    //var night_from_time =  $("#nft").val();
                    //var night_to_time = $("#ntt").val();
                    //var weekend_from_time =  $("#wft").val();
                    //var weekend_to_time = $("#wtt").val();

                    var nightfromtime = $("#nft").dxDateBox("option", "value");
                    var nighttotime = $("#ntt").dxDateBox("option", "value");
                    var weekendfromtime = $("#wft").dxDateBox("option", "value");
                    var weekendtotime = $("#wtt").dxDateBox("option", "value");

                    var night_from_time = nightfromtime.toTimeString();
                    var night_to_time = nighttotime.toTimeString();
                    var weekend_from_time = weekendfromtime.toTimeString();
                    var weekend_to_time = weekendtotime.toTimeString();

                    $.ajax({
                        type: "POST",
                        url: "/OssLabAdmin/TimeConfigurer/",
                        data: JSON.stringify({ night_fromtime: night_from_time, night_totime: night_to_time, weekend_fromtime: weekend_from_time, weekend_totime: weekend_to_time }),
                        async: true,
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",


                    });

                    $.notify('Configured Successfully.', {
                        globalPosition: "top center",
                        className: "success"
                    });

                }

                document.querySelector('#mailBtn').addEventListener('click', function () {

                         var url='@Url.Action("MailConfig", "OssLabAdmin", null)';
                         window.location.href=url;
                }, false);

        </script>*@


    @*<style>
            body {
                font-family: Arial, Helvetica, sans-serif;
            }

            /* The Modal (background) */
            .modal {
                display: none; /* Hidden by default */
                position: fixed; /* Stay in place */
                z-index: 1; /* Sit on top */
                left: 0;
                top: 0;
                width: 100%; /* Full width */
                height: 100%; /* Full height */
                overflow: auto; /* Enable scroll if needed */
                background-color: rgb(0,0,0); /* Fallback color */
                background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
                -webkit-animation-name: fadeIn; /* Fade in the background */
                -webkit-animation-duration: 0.4s;
                animation-name: fadeIn;
                animation-duration: 0.4s
            }

            /* Modal Content */
            .modal-content {
                position: fixed;
                top: 0;
                background-color: #fefefe;
                width: 100%;
                -webkit-animation-name: slideIn;
                -webkit-animation-duration: 0.4s;
                animation-name: slideIn;
                animation-duration: 0.4s
            }

            /* The Close Button */
            .close {
                color: white;
                float: right;
                font-size: 28px;
                font-weight: bold;
            }

                .close:hover,
                .close:focus {
                    color: #000;
                    text-decoration: none;
                    cursor: pointer;
                }

            .modal-header {
                padding: 2px 16px;
                background-color: #5cb85c;
                color: white;
            }

            .modal-body {
                padding: 2px 16px;
            }

            .modal-footer {
                padding: 2px 16px;
                background-color: #5cb85c;
                color: white;
            }

            /* Add Animation */
            -webkit-keyframes slideIn {
                from

            {
                bottom: -300px;
                opacity: 0
            }

            to {
                bottom: 0;
                opacity: 1
            }

            }

            keyframes slideIn {
                from

            {
                bottom: -300px;
                opacity: 0
            }

            to {
                bottom: 0;
                opacity: 1
            }

            }

            -webkit-keyframes fadeIn {
                from

            {
                opacity: 0
            }

            to {
                opacity: 1
            }

            }

            keyframes fadeIn {
                from

            {
                opacity: 0
            }

            to {
                opacity: 1
            }
            }
        </style>*@



    @section Scripts{

        <script type="text/javascript">

            $(document).ready(function () {

                debugger;

                GenerateHC();


            });
                    //function onAdd() {
                    //    debugger;
                    //    //$(".beforeadd").prop('hidden', true);
                    //    //$("#add").prop('hidden', false);
                    //    $.ajax({

                    //        type: "Get",
                    //        async: false,
                    //        url: "/HC_TC/Lookup_HC",
                    //        success: onsuccess_lookupdata,
                    //        error: onerror_lookupdata
                    //    })


                    //    function onsuccess_lookupdata(data) {
                    //        debugger;
                    //        var skill_list = JSON.parse(data.data_skill.Data.Content);
                    //        var role_list1 = JSON.parse(data.data_role.Data.Content);


                    //        var yr_list = [];
                    //        var currentYear = (new Date()).getFullYear();
                    //        for (var i = 2021; i <= currentYear + 1; i++) {
                    //            yr_list.push({ "Year": i });

                    //        }
                    //        debugger;
                    //        GenerateAddHC(role_list1, skill_list, yr_list);

                    //        //GenerateHwDamage_chart_Month();
                    //        //GenerateHwDamage_chart_OEM();
                    //    }

                    //    function onerror_lookupdata(response) {
                    //        alert("Error lookup");

                    //    }

                    //}



        </script>

        <!--<script>
            // Get the modal
            var modal = document.getElementById("myModal");

            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];

            // When the user clicks the button, open the modal
            btn.onclick = function () {
                modal.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }

            debugger;
            //$.ajax({
            //    type: "GET",
            //    url: "/OssLabAdmin/ReloadTimeConfigurer/",
            //    async: true,
            //    contentType: "application/json; charset=utf-8",
            //    dataType: "json",
            //    success: function (data) {
            //        debugger;
            //        $("#nft").dxDateBox({
            //            type: "time",
            //            showClearButton: true,
            //            value: data.data.night_fromtime

            //        });

            //        $("#ntt").dxDateBox({
            //            type: "time",
            //            showClearButton: true,
            //            value: data.data.night_totime
            //        });

            //        $("#wft").dxDateBox({
            //            type: "time",
            //            showClearButton: true,
            //            value: data.data.weekend_fromtime
            //        });

            //        $("#wtt").dxDateBox({
            //            type: "time",
            //            showClearButton: true,
            //            value: data.data.weekend_totime
            //        });




            //    }, error: function (err) {

            //        $.notify('Unable to fetch Previous Timings. Please Set the new Timings.', {
            //            globalPosition: "top center",
            //            className: "warn"
            //        });
            //    }

            //});







            //function SaveChanges() {

            //    debugger;
            //    //var night_from_time =  $("#nft").val();
            //    //var night_to_time = $("#ntt").val();
            //    //var weekend_from_time =  $("#wft").val();
            //    //var weekend_to_time = $("#wtt").val();

            //    var nightfromtime = $("#nft").dxDateBox("option", "value");
            //    var nighttotime = $("#ntt").dxDateBox("option", "value");
            //    var weekendfromtime = $("#wft").dxDateBox("option", "value");
            //    var weekendtotime = $("#wtt").dxDateBox("option", "value");

            //    var night_from_time = nightfromtime.toTimeString();
            //    var night_to_time = nighttotime.toTimeString();
            //    var weekend_from_time = weekendfromtime.toTimeString();
            //    var weekend_to_time = weekendtotime.toTimeString();

            //    $.ajax({
            //        type: "POST",
            //        url: "/OssLabAdmin/TimeConfigurer/",
            //        data: JSON.stringify({ night_fromtime: night_from_time, night_totime: night_to_time, weekend_fromtime: weekend_from_time, weekend_totime: weekend_to_time }),
            //        async: true,
            //        contentType: "application/json; charset=utf-8",
            //        dataType: "json",


            //    });

            //    $.notify('Configured Successfully.', {
            //        globalPosition: "top center",
            //        className: "success"
            //    });

            //}-->
        @*document.querySelector('#mailBtn').addEventListener('click', function () {

                     var url='@Url.Action("MailConfig", "OssLabAdmin", null)';
                     window.location.href=url;
            }, false);*@

        <!--</script>-->



    }
</head>
<body>

    <div>
        <h5 style="text-align: center;"><b>HeadCount Details</b></h5>
        @*<table width="50%" align="center">*@
            <!--<tr class="beforeadd">
                <td align="right">
                    <button id="myBtn" type="button" onclick="onAdd()" title="Click here to Add/Update Roles/Skillsets" class="btn btn-outline-secondary">
                        Configure-->
                        @*<img style=" height:40px; width:80px;right:0" src="~/Content/images/Edit.png" />*@
                    <!--</button>
                </td>
            </tr>-->
            @*<tr class="beforeadd">*@
                @*<td>*@
                    <div id="hc_dataGrid" style=" height: 76.1vh;margin:0 auto;"></div>
                @*</td>*@

            @*</tr>*@
            @*<tr id="add" hidden>
                <td>
                    <div class="button-container">
                        <div id="backButton"></div>
                    </div>
                </td>
                <td>
                    <div id="hc_dataGrid_withAdd" style="width:1500px; height: 1000px;margin :0 auto;"></div>
                </td>
            </tr>*@
        @*</table>*@


       
        <!--<!-- The Modal -->
        <!--<div id="myModal" class="modal">-->

            <!-- Modal content -->
            <!--<div class="modal-content">
                <div class="modal-header">
                    <p style="font-size:large; float:left"><b>Night/Weekend Time Settings</b></p>
                    <span class="close">&times;</span>

                </div>
                <div class="modal-body"> 
                    <div class="dx-field">
                        <div class="dx-field-label" style="font-size:medium;"><b>Configure HeadCount Details</b></div>
                    </div>

                    <div class="dx-field">
                       
                            <div id="hc_dataGrid_withAdd" style="width:1500px; height: 1000px;margin :0 auto;"></div>
                       
                    </div>-->

                    @*<div class="dx-field">
                        <div class="dx-field-label"><b>End Time:</b></div>
                        <div class="dx-field-value">
                            <div id="ntt"></div>
                        </div>
                    </div>

                    <div class="dx-field">
                        <div class="dx-field-label" style="font-size:medium;"><b>Test Bench Weekend Utilization</b></div>
                    </div>

                    <div class="dx-field">
                        <div class="dx-field-label" title=""><b>Start Time:</b></div>
                        <div class="dx-field-value">
                            <div id="wft"></div>
                        </div>
                    </div>

                    <div class="dx-field">
                        <div class="dx-field-label"><b>End Time:</b></div>
                        <div class="dx-field-value">
                            <div id="wtt"></div>
                        </div>
                    </div>*@

                <!--</div>


                <div class="modal-footer">

                    <div>-->
                       @* <button type="button" class="btn btn-outline-dark" onclick="SaveChanges()">Save Changes</button>*@
                    </div>
                @*</div>
            </div>

        </div>-->


    </div>*@

</body>
</html>
